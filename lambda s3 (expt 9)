## ğŸ§© **Aim:**

To understand AWS Lambda functions and create one (using Python) that logs
**â€œAn image has been addedâ€** when a file is uploaded to an S3 bucket.

---

## âš™ï¸ **Execution Steps**

### **Step 1 â€“ Create an S3 bucket**

* Go to **S3 â†’ Create bucket â†’ Name it e.g. `my-image-bucket`** â†’ keep defaults â†’ Create.
* This is where youâ€™ll upload the image.
  *(S3 will automatically send an event to Lambda when a file is added.)*

---

### **Step 2 â€“ Create an IAM role**

* Go to **IAM â†’ Roles â†’ Create role â†’ AWS service â†’ Lambda**.
* Attach policies:

  * `AWSLambdaBasicExecutionRole` (to write logs to CloudWatch)
  * `AmazonS3ReadOnlyAccess` (so Lambda can read S3 event info)
* Name it e.g. `lambda-s3-role`.

---

### **Step 3 â€“ Create the Lambda function**

* Go to **Lambda â†’ Create function â†’ Author from scratch**

  * Name: `s3ImageLogger`
  * Runtime: **Python 3.x**
  * Execution role: **Use existing role â†’ lambda-s3-role**

Paste this **simple Python code:**

```python
import json

def lambda_handler(event, context):
    print("An image has been added")
    print("Event details:", json.dumps(event))
    return "Log successful"
```

ğŸ§  *This code runs automatically when the S3 event occurs and logs a message to CloudWatch.*

---

### **Step 4 â€“ Add S3 trigger**

* In Lambda â†’ **Configuration â†’ Triggers â†’ Add trigger**

  * Select **S3**
  * Choose your bucket (`my-image-bucket`)
  * Event type: **PUT (All object create events)**
  * Check â€œAddâ€

Now, Lambda will trigger every time a new file is uploaded.

---

### **Step 5 â€“ Test it**

* Go to **S3 â†’ Upload â†’ Add any image file**
* Upload it to your bucket
* Go to **CloudWatch â†’ Logs â†’ s3ImageLogger log group**

  * Youâ€™ll see:

    ```
    An image has been added
    Event details: {...}
    ```

âœ… **Thatâ€™s your output!**

---

### **Step 6 â€“ Result**

> Successfully created an AWS Lambda function that logs
> â€œAn image has been addedâ€ whenever a file is uploaded to the S3 bucket.

